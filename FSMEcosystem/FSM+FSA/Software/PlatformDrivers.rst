Platform and Sensor Device Drivers
========================================

The driver divides into two main parts that are configured in separate ways – the image modes and the general features of the image sensor.

Image Modes
-----------------

These are major attributes that impact the image data stream formatting. They require a static pre-configuration within the device tree (DT):

- Image / streaming resolution
- Pixel format / bit depth
- Data rate / lane configuration

Each driver provides access to 3 – 5 pre-built configurations, reflecting the main operation modes of the imager. Besides the full resolution, which is always available, they allow receiving image streams in common video resolutions like VGA, Full HD, and UHD as supported or as make sense by the imagers, and utilize sensor features like ROI and binning.

These configurations act as examples for implementation and are available as source code. Due to the size limitation of the device tree, it is not possible to integrate an extensive set of options.


General Features
---------------------

These are attributes of the image sensor that do not manipulate the data stream formatting. The drivers provided with the Software Pack integrate the sensor features as shown in the table below.

.. table:: Supported sensor features on NVIDIA Jetson Family
   :name: table-42
   :widths: auto

   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | Pre-Implemented| Gain           | Frame Rate     | Exposure Time | Flip/Mirror   | IS Mode        | Sensor Mode ID | Test Pattern   | Black Level    | HDR Output     | Broadcast      | Data Rate     | Synchronizing |
   | Features per   | (Analog /      |                |               |               | (Master /      |                | Output         |                |                |                |               | Master        |
   | Model          | Digital)       |                |               |               | Slave)         |                |                |                |                |                |               |               |
   +================+================+================+===============+===============+================+================+================+================+================+================+===============+===============+================+================+
   | FSM-AR0144     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-AR0521     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-AR1335     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-HDP230     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX264     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX283     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX290     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✔              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX296     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX297     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX304     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX327     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX334     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX335     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX412     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX415     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX462     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX464     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX477     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX485     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX530     | ✔              | ✔              | ✔             | ✔             | ▲              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX565,568 | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX577     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX675     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX678     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+
   | FSM-IMX715     | ✔              | ✔              | ✔             | ✔             | ✔              | ✔              | ✔              | ✖              | ✖              | ✖              | ✖             | ✖             | ✖              |
   +----------------+----------------+----------------+---------------+---------------+----------------+----------------+----------------+----------------+----------------+----------------+---------------+---------------+----------------+----------------+

Legend:
- ✔ : V4L (libsv) and libargus
- ▲ : V4L (libsv)
- ✖ : Not Supported/Implemented
